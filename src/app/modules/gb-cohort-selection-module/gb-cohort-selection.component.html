<div class="gb-cohort-selection-container">
  <!-- top panel -->
  <div class="container form-inline gb-cohort-selection-top-panel">
    <input id="queryName" type="text"
           class="form-control gb-cohort-selection-top-panel-input"
           placeholder="Specify cohort name"
           (drop)="preventNodeDrop($event)"
           [(ngModel)]="queryName">
    <button class="btn btn-outline-primary btn-sm gb-cohort-selection-top-panel-btn"
            (click)="saveQuery()"
            type="button">
      <span *ngIf="isSavingQueryCompleted">Save cohort</span>
      <span *ngIf="!isSavingQueryCompleted">Saving...</span>
    </button>

    <button type="button"
            (click)="update_1($event)"
            class="btn btn-outline-primary btn-sm gb-cohort-selection-update-btn
                      {{queryService.isDirty_1? 'gb-cohort-selection-update-btn-dirty' : ''}}">
      Update cohort
    </button>

  </div>


  <!-- query composer -->
  <div>
    <!-- Inclusion criteria -->
    <div #inclusionCriteriaBox
         class="criteria-box">

      <div class="subject-count-box">
        <span><b>Inclusion</b> criteria:</span>
        <span>{{inclusionSubjectCount}} subjects included.</span>
      </div>
      <gb-constraint #rootInclusionConstraintComponent
                     [constraint]="rootInclusionConstraint"
                     [isRoot]="true"></gb-constraint>
    </div>

    <!-- Exclusion criteria -->
    <div #exclusionCriteriaBox
         class="criteria-box">
      <div class="subject-count-box">
        <span><b>Exclusion</b> criteria:</span>
        <span>{{exclusionSubjectCount}} subjects excluded.</span>
      </div>
      <gb-constraint #rootExclusionConstraintComponent
                     [constraint]="rootExclusionConstraint"
                     [isRoot]="true"></gb-constraint>
    </div>


    <!-- Intersection calculation -->
    <div class="subject-count-box">
      <span><b>Total:</b></span>
      <span>{{subjectCount_1}} subjects match your selection.</span>
    </div>

  </div>


</div>
